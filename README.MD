# ðŸš— MaBagnole - Plateforme de Location de VÃ©hicules

MaBagnole est une plateforme complÃ¨te de gestion de location de voitures dÃ©veloppÃ©e en **PHP POO** avec **MySQL**.

---

## FonctionnalitÃ©s

### Client
- âœ… Authentification (Connexion / Inscription)
- âœ… Explorer les catÃ©gories de vÃ©hicules
- âœ… Consulter les dÃ©tails d'un vÃ©hicule
- âœ… RÃ©server un vÃ©hicule avec dates
- âœ… Rechercher par marque/modÃ¨le
- âœ… Filtrer par catÃ©gorie (sans rafraÃ®chissement)
- âœ… Consulter ses rÃ©servations

### Administrateur
- âœ… Dashboard avec statistiques
- âœ… Gestion des vÃ©hicules (CRUD)
- âœ… Gestion des catÃ©gories (CRUD)
- âœ… Gestion des clients (Activer/Bannir)
- âœ… Gestion des rÃ©servations (Confirmer/Annuler)

---

## Structure du Projet

```
MaBagnole/
â”œâ”€â”€ Classes/
â”‚   â”œâ”€â”€ db.php              # Connexion PDO
â”‚   â”œâ”€â”€ user.php            # Classe User
â”‚   â”œâ”€â”€ client.php          # Classe Client (hÃ©rite de User)
â”‚   â”œâ”€â”€ vehicle.php         # Classe Vehicle
â”‚   â”œâ”€â”€ Category.php        # Classe Category
â”‚   â””â”€â”€ Reservation.php     # Classe Reservation
â”œâ”€â”€ includes/
â”‚   â”œâ”€â”€ guard.php           # Fonctions d'authentification
â”‚   â””â”€â”€ logout.php          # DÃ©connexion
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ dashboard.php   # Tableau de bord
â”‚   â”‚   â”œâ”€â”€ vehicles.php    # Gestion vÃ©hicules
â”‚   â”‚   â”œâ”€â”€ categories.php  # Gestion catÃ©gories
â”‚   â”‚   â”œâ”€â”€ clients.php     # Gestion clients
â”‚   â”‚   â”œâ”€â”€ reservations.php# Gestion rÃ©servations
â”‚   â”‚   â””â”€â”€ actions/        # Handlers POST
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â””â”€â”€ my-reservations.php
â”‚   â”œâ”€â”€ vehicles.php        # Liste vÃ©hicules (public)
â”‚   â”œâ”€â”€ vehicle-details.php # DÃ©tails vÃ©hicule
â”‚   â”œâ”€â”€ login.php           # Connexion
â”‚   â””â”€â”€ inscription.php     # Inscription
â”œâ”€â”€ sql/
â”‚   â””â”€â”€ install.sql         # Script SQL
â””â”€â”€ index.php               # Page d'accueil
```

---

## Base de DonnÃ©es

### Tables
| Table | Description |
|-------|-------------|
| `users` | Utilisateurs (clients et admins) |
| `category` | CatÃ©gories de vÃ©hicules |
| `vehicle` | VÃ©hicules disponibles |
| `reservation` | RÃ©servations |
| `review` | Avis clients |

### Installation
```sql
-- ExÃ©cuter le fichier sql/install.sql dans phpMyAdmin
SOURCE sql/install.sql;
```

---

## Installation

1. **Cloner le projet** dans `htdocs` (XAMPP)
```bash
git clone <repo> c:/xampp/htdocs/MaBagnole
```

2. **Importer la base de donnÃ©es**
   - Ouvrir phpMyAdmin
   - Importer `sql/install.sql`

3. **Configurer la connexion DB** dans `Classes/db.php`
```php
$host = "localhost";
$dbname = "mabagnole";
$user = "root";
$password = "";
```

4. **AccÃ©der au site**
```
http://localhost/mabagnole/
```

---

## Comptes par dÃ©faut

| Email | Mot de passe | RÃ´le |
|-------|--------------|------|
| admin@gmail.com | admin123 | Admin |

---

## Technologies

- **Backend** : PHP 8+ (POO, PDO)
- **Base de donnÃ©es** : MySQL
- **Frontend** : HTML5, TailwindCSS, Font Awesome
- **Serveur** : XAMPP / WAMP

---

## Classes PHP

### Vehicle
```php
getVehicles()           // Liste tous les vÃ©hicules
searchVehicles($search) // Recherche par marque/modÃ¨le
getVehicleById($id)     // DÃ©tails d'un vÃ©hicule
addVehicle()            // Ajouter
updateVehicle($id)      // Modifier
deleteVehicle($id)      // Supprimer
```

### Reservation
```php
createReservation()             // CrÃ©er
getReservationsByUserId($id)    // RÃ©servations d'un user
getAllReservations()            // Toutes (admin)
updateStatus($id, $status)      // Confirmer/Annuler
```

### Client
```php
getAllClients()     // Liste clients
activateUser($id)   // Activer compte
banUser($id)        // Bannir compte
```